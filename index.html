<!DOCTYPE html>
<html>

<head>
  <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.css" rel="stylesheet">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

  <link href="dist/ez-select.min.css" rel="stylesheet">

  <style>
  </style>

  <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js"></script>
  <script type="text/javascript" src="//code.angularjs.org/1.2.9/angular-mocks.js"></script>
  <script src="https://rawgithub.com/jdewit/ez-object2array/master/dist/ez-object2array.min.js"></script>

  <script src="src/ez-select.js"></script>
  <script src="test/helper/searchMock.js"></script>
  <script src="dist/ez-select-tpl.js"></script>

  <script>
      angular.module('myApp', ['ez.select', 'ngMockE2E'])

      .controller('AppCtrl', ['$scope', function AppCtrl($scope) {

        $scope.options1 = [
          {id: '1', text: 'One'}, 
          {id: '2', text: 'Two'}, 
          {id: '3', text: 'Three'},
          {id: '4', text: 'Four'}, 
          {id: '5', text: 'Five'}, 
          {id: '6', text: 'Six'},
          {id: '7', text: 'Seven'}, 
          {id: '8', text: 'Eight'}, 
          {id: '9', text: 'Nine'},
          {id: '10', text: 'Ten'}, 
          {id: '11', text: 'Eleven'}, 
          {id: '12', text: 'Twelve'}
        ];

        $scope.options2 = [];

        $scope.options3 = {
          '1': {id: '1', text: 'One'},
          '2': {id: '2', text: 'Two'},
          '3': {id: '3', text: 'Three'},
          '4': {id: '4', text: 'Four'}, 
          '5': {id: '5', text: 'Five'}, 
          '6': {id: '6', text: 'Six'},
          '7': {id: '7', text: 'Seven'}, 
          '8': {id: '8', text: 'Eight'}, 
          '9': {id: '9', text: 'Nine'},
          '10': {id: '10', text: 'Ten'}, 
          '11': {id: '11', text: 'Eleven'}, 
          '12': {id: '12', text: 'Twelve'}
        };


        $scope.selected1 = ['2', '5'];
        $scope.selected2 = '';
        $scope.selected3 = '10';
      }])

      .run(['$httpBackend', 'filterFilter', function($httpBackend, filterFilter) {
        var words = ['Rock', 'Paper', 'Scissor', 'airplane', 'bulldozer', 'guitar', 'walking', 'this', 'makes', 'no', 'sense', 'why', 'you', 'are', 'playing', 'move', 'get', 'out'];

        $httpBackend.whenGET(/\/api\/test\/search\?q=[\w]+/).respond(function(method, url) {
          var query = url.replace('/api/test/search?q=', '').replace('+', ' ');
          var results = filterFilter(words, query);
          var res = [];
          for (var i=0; i < results.length; i++) {
            res.push({id: results[i] + '_' + i, text: results[i]});
          }

          return [200, res];
        });
      }]);

    ;

  </script>
</head>
<body ng-app="myApp">
  <div ng-controller="AppCtrl" class="container">
    <div class="page-header">
      <h1>ez-select</h1>
    </div>
    <div class="row">
      <div class="col-md-6">
        <label>Multi Select</label>
        <ez-select options="options1" selected="selected1" data-multiple="true" search="search" style="width: 200px;"></ez-select>
      </div>
      <div class="col-md-6">
        <h5>Selected</h5>
        {{ selected1 }}
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <label>Single Select With AJAX Search</label>
        <ez-select options="options2" selected="selected2" data-placeholder="Ajax Search" data-url="/api/test/search" style="width: 200px;"></ez-select>
      </div>
      <div class="col-md-6">
        <h5>Selected:</h5> 
        {{ selected2 }}
      </div>
    </div>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <label>Single Select With Search & options in object format</label>
        <ez-select options="options3" selected="selected3" data-search="true" style="width: 200px;"></ez-select>
      </div>
      <div class="col-md-6">
        <h5>Selected:</h5> 
        {{ selected3 }}
      </div>
    </div>
    <hr>
  </div>
</body>

</html>

